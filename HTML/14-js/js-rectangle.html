<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>Rectangle calculator</title>
    <meta name="description" content="Výpočet a zobrazení obdelníka.">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        #rect {
            background: #888;
            width: 100px;
            height: 200px;
        }

        @media print {
            #rect {
                print-color-adjust: exact;
            }
        }
    </style>
</head>

<body>

    <main class="container">
        <h1>Rectangle calculator</h1>

        <div class="grid">
            <input id="a" type="number" value="300" placeholder="Strana A" aria-label="Strana A" min="1">
            <input id="b" type="number" value="200" placeholder="Strana B" aria-label="Strana B" min="1">
            <div>
                <button id="button">Calculate</button>
            </div>
        </div>

        <p>Obvod je: <strong id="txtObvod"></strong> a obsah je: <strong id="txtObsah"></strong></p>

        <div id="rect"></div>

        <!--
        <div style="width: 200px; aspect-ratio: 1; background-color: #888; border-radius: 50%;"></div>
        -->

    </main>

    <script>

        const button = document.getElementById('button');
        const inputA = document.getElementById('a');
        const inputB = document.getElementById('b');
        const txtObvod = document.getElementById('txtObvod');
        const txtObsah = document.getElementById('txtObsah');
        const rect = document.getElementById('rect');

        inputA.addEventListener('input', validateInput);
        inputB.addEventListener('input', validateInput);
        button.addEventListener('click', calculate);
        inputA.addEventListener('change', calculate);
        inputB.addEventListener('change', calculate);


        function validateInput(event) {
            let value = parseInt(event.target.value);
            console.log(value < 1);
            // if (pomínka) {co se má stát}
            if (value < 1) {
                event.target.value = 1;
            }
        }

        function calculate() {
            /*
            1. získat číselné hodnoty z inputA a inputB
            2. chci vypočítat obvod a obsah
                obvod = 2 * (a + b)
                obsah = a * b
            3. chci zobrazit výsledky uživateli
            4. chci vykreslit obdelník pomocí div
            */

            let a = parseInt(inputA.value);
            let b = parseInt(inputB.value);
            let obvod = 2 * (a + b);
            let obsah = a * b;

            txtObvod.textContent = obvod;
            txtObsah.textContent = obsah;
            rect.style.width = a + 'px';
            rect.style.height = b + 'px';
        }

        calculate();
    </script>

</body>

</html>